<!DOCTYPE html>
<html>
<head>
  <title>ComfyTheatre VR</title>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <link href="./build/css/style.css" rel="stylesheet">
  <script src="./build/js/scene.js" type="text/javascript"></script>
</head>
<body>

  <div id="overlay">
    <div>
      <button id="enter">
        Enter ComfyTheatre VR
      </button>
    </div>
  </div>

  <a-scene stats>
    <a-node id="dummy"></a-node>

    <a-assets>
      <video id="player" class="video-js" crossorigin="anonymous" controls>
        <source id="source-films" src="//comfytheatre.co.uk:8080/hls/films.m3u8" type="application/x-mpegurl">
      </video>
    </a-assets>

    <a-assets>
      <img id="ui-play" src="../../build/img/icon-play.png" />
      <a-asset-item id="model-chair" src="../../models/Chair/Chair.gltf"></a-asset-item>
    </a-assets>

    <a-video
      id="screen"
      src="#player"
      width="16"
      height="9"
      position="0 2.5 -10"
      scale="1 1 1"
      event-set__enter="_event: mouseenter; _target: #cursor; visible: false"
      event-set__leave="_event: mouseleave; _target: #cursor; visible: true"
      gui-interactable
    ></a-video>

    <a-plane position="0 0 0" rotation="-90 0 0" width="3" height="3" color="darkred"></a-plane>
    <a-sky color="#111111"></a-sky>

    <a-entity>
      <a-camera fov="110" wasd-controls-enabled="false">
        <a-gui-cursor
          id="cursor"
          color="#FFFFFF"
          raycaster="objects: [gui-interactable]"
          fuse="true" fuse-timeout="1000"
          design="ring"
          visible="true"
        ></a-gui-cursor>
      </a-camera>
    </a-entity>

    <a-entity
      gltf-model="#model-chair"
      position="0 0 0.25"
      scale="0.0022 0.0022 0.0022"
      rotation="0 180 0"
    ></a-entity>

    <a-gui-flex-container
      id="ui-menu"
      flex-direction="column"
      justify-content="center"
      align-items="normal"
      opacity="0.5" width="2.5" height="1"
      position="0 0.4 -0.5" rotation="-45 0 0" scale="0.5 0.5 0.5"
    >
      <a-gui-button
        width="1" height="0.25"
        position="0 0 0.05"
        font-size="42px"
        key-code="32"
        value="Start Video"
        margin="0 0 0.25 0"
        toggle="false"
        onclick="startVideo"
      >
      </a-gui-button>
      <a-gui-slider
        id="player-volume"
        width="2" height="0.25"
        position="0 0 0.05"
        margin="0 0 0.25 0"
        percent="0.5"
        left-right-padding="0"
        onclick="changeVolume"
      >
      </a-gui-slider>
    </a-gui-flex-container>

  </a-scene>

  <script src="./build/js/script.js" type="text/javascript"></script>

</body>
</html>
